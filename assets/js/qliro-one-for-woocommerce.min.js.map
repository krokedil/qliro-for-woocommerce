{"version":3,"file":"qliro-one-for-woocommerce.min.js","mappings":"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","sources":["webpack://qliro-one-for-woocommerce/./assets/js/qliro-one-for-woocommerce.js"],"sourcesContent":["/**\n * @var qliroOneParams\n */\njQuery( function( $ ) {\n\n\tif ( typeof qliroOneParams === 'undefined' || qliroOneParams.isEnabled !== 'yes' ) {\n\t\treturn false;\n\t}\n\tvar qliroOneForWooCommerce = {\n\t\tbodyEl: $('body'),\n\t\tcheckoutFormSelector: 'form.checkout',\n\t\tpreventPaymentMethodChange: false,\n\t\tselectAnotherSelector: '#qliro-one-select-other',\n\t\tpaymentMethodEl: $('input[name=\"payment_method\"]'),\n\n\t\tinit: function () {\n\t\t\t$( document ).ready( qliroOneForWooCommerce.documentReady );\n\t\t\tqliroOneForWooCommerce.bodyEl.on( 'change', 'input[name=\"payment_method\"]', qliroOneForWooCommerce.maybeChangeToQliroOne );\n\t\t\tqliroOneForWooCommerce.bodyEl.on( 'click', qliroOneForWooCommerce.selectAnotherSelector, qliroOneForWooCommerce.changeFromQliroOne );\n\t\t\twindow.q1Ready = function(q1) {\n\t\t\t\tq1.onCustomerInfoChanged(qliroOneForWooCommerce.updateAddress);\n\t\t\t\tq1.onValidateOrder(qliroOneForWooCommerce.getQliroOneOrder);\n\t\t\t\t/*q1.onValidateOrder(function callback(data, callback) {\n\n\t\t\t\t\tcallback({shouldProceed: false, errorMessage: \"testing\"});\n\t\t\t\t});*/\n\t\t\t\t// todo.\n\t\t\t\t// q1.onShippingMethodChanged(qliroOneForWooCommerce.updateShipping);\n\t\t\t}\n\t\t\tqliroOneForWooCommerce.bodyEl.on('change', \"input[name='shipping_method[0]']\", qliroOneForWooCommerce.updateShipping);\n\t\t},\n\t\t/**\n\t\t * Triggers on document ready.\n\t\t */\n\t\tdocumentReady: function() {\n\t\t\tif ( 0 < $('input[name=\"payment_method\"]').length ) {\n\t\t\t\tqliroOneForWooCommerce.paymentMethod = $('input[name=\"payment_method\"]').filter( ':checked' ).val();\n\t\t\t} else {\n\t\t\t\tqliroOneForWooCommerce.paymentMethod = 'qliro_one';\n\t\t\t}\n\n\t\t\tif( ! qliroOneParams.payForOrder && qliroOneForWooCommerce.paymentMethod === 'qliro_one' ) {\n\t\t\t\tqliroOneForWooCommerce.moveExtraCheckoutFields();\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t * When the customer changes from Qliro One to other payment methods.\n\t\t * @param {Event} e\n\t\t */\n\t\tchangeFromQliroOne: function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\t$( qliroOneForWooCommerce.checkoutFormSelector ).block({\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: {\n\t\t\t\t\tqliro_one: false,\n\t\t\t\t\tnonce: qliroOneParams.change_payment_method_nonce\n\t\t\t\t},\n\t\t\t\turl: qliroOneParams.change_payment_method_url,\n\t\t\t\tsuccess: function( data ) {},\n\t\t\t\terror: function( data ) {},\n\t\t\t\tcomplete: function( data ) {\n\t\t\t\t\twindow.location.href = data.responseJSON.data.redirect;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * When the customer changes to Qliro One from other payment methods.\n\t\t */\n\t\tmaybeChangeToQliroOne: function() {\n\t\t\tif ( ! qliroOneForWooCommerce.preventPaymentMethodChange ) {\n\n\t\t\t\tif ( 'qliro_one' === $( this ).val() ) {\n\t\t\t\t\t$( '.woocommerce-info' ).remove();\n\n\t\t\t\t\t$( qliroOneForWooCommerce.checkoutFormSelector ).block({\n\t\t\t\t\t\tmessage: null,\n\t\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\topacity: 0.6\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tqliro_one: true,\n\t\t\t\t\t\t\tnonce: qliroOneParams.change_payment_method_nonce\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\turl: qliroOneParams.change_payment_method_url,\n\t\t\t\t\t\tsuccess: function( data ) {},\n\t\t\t\t\t\terror: function( data ) {},\n\t\t\t\t\t\tcomplete: function( data ) {\n\t\t\t\t\t\t\twindow.location.href = data.responseJSON.data.redirect;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Check if Qliro One is the selected gateway.\n\t\t */\n\t\tcheckIfQliroOneSelected: function() {\n\t\t\tif (qliroOneForWooCommerce.paymentMethodEl.length > 0) {\n\t\t\t\tqliroOneForWooCommerce.paymentMethod = qliroOneForWooCommerce.paymentMethodEl.filter(':checked').val();\n\t\t\t\tif( 'qliro_one' === qliroOneForWooCommerce.paymentMethod ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Moves all non standard fields to the extra checkout fields.\n\t\t */\n\t\tmoveExtraCheckoutFields: function() {\n\t\t\t// Move order comments.\n\t\t\t$('.woocommerce-additional-fields').appendTo('#qliro-one-extra-checkout-fields');\n\n\t\t\tlet form = $('form[name=\"checkout\"] input, form[name=\"checkout\"] select, textarea');\n\t\t\tfor (var i = 0; i < form.length; i++ ) {\n\t\t\t\tlet name = form[i].name;\n\t\t\t\t// Check if field is inside the order review.\n\t\t\t\tif( $( 'table.woocommerce-checkout-review-order-table' ).find( form[i] ).length ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Check if this is a standard field.\n\t\t\t\tif ( -1 === $.inArray( name, qliroOneParams.standardWooCheckoutFields ) ) {\n\t\t\t\t\t// This is not a standard Woo field, move to our div.\n\t\t\t\t\tif ( 0 < $( 'p#' + name + '_field' ).length ) {\n\t\t\t\t\t\t$( 'p#' + name + '_field' ).appendTo( '#qliro-one-extra-checkout-fields' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$( 'input[name=\"' + name + '\"]' ).closest( 'p' ).appendTo( '#qliro-one-extra-checkout-fields' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdateAddress: function (customerInfo) {\n\t\t\tconsole.log(customerInfo);\n\t\t\tvar billingEmail = (('email' in customerInfo) ? customerInfo.email : null);\n\t\t\tvar billingPhone  = (('mobileNumber' in customerInfo) ? customerInfo.mobileNumber : null);\n\t\t\tvar billingFirstName = (('firstName' in customerInfo.address) ? customerInfo.address.firstName : null);\n\t\t\tvar billingLastName = (('lastName' in customerInfo.address) ? customerInfo.address.lastName : null);\n\t\t\tvar billingStreet = (('street' in customerInfo.address) ? customerInfo.address.street : null);\n\t\t\tvar billingPostalCode = (('postalCode' in customerInfo.address) ? customerInfo.address.postalCode : null);\n\t\t\tvar billingCity = (('city' in customerInfo.address) ? customerInfo.address.city : null);\n\n\t\t\t(billingEmail !== null && billingEmail !== undefined) ? $('#billing_email').val(customerInfo.email) : null;\n\t\t\t(billingPhone !== null && billingPhone !== undefined) ? $('#billing_phone').val(customerInfo.mobileNumber) : null;\n\t\t\t(billingFirstName !== null && billingFirstName !== undefined) ? $('#billing_first_name').val(customerInfo.address.firstName) : null;\n\t\t\t(billingLastName !== null && billingLastName !== undefined) ? $('#billing_last_name').val(customerInfo.address.lastName) : null;\n\t\t\t(billingStreet !== null && billingStreet !== undefined) ? $('#billing_address_1').val(customerInfo.address.street) : null;\n\t\t\t(billingPostalCode !== null && billingPostalCode !== undefined) ? $('#billing_postcode').val(customerInfo.address.postalCode) : null;\n\t\t\t(billingCity !== null && billingCity !== undefined) ? $('#billing_city').val(customerInfo.address.city) : null;\n\n\t\t\t$(\"form.checkout\").trigger('update_checkout');\n\t\t},\n\t\tgetQliroOneOrder: function (data, callback) {\n\t\t\tconsole.log(\"getQliroOneOrder\");\n\t\t\tconsole.log(callback);\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tnonce: qliroOneParams.get_order_nonce,\n\t\t\t\t},\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: qliroOneParams.get_order_url,\n\t\t\t\tsuccess: function (data) {\n\t\t\t\t},\n\t\t\t\terror: function (data) {\n\t\t\t\t},\n\t\t\t\tcomplete: function (data) {\n\t\t\t\t\tqliroOneForWooCommerce.setAddressData(data.responseJSON.data, callback);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Sets the WooCommerce form field data.\n\t\t */\n\t\tsetAddressData: function (addressData, callback) {\n\t\t\tif (0 < $('form.checkout #terms').length) {\n\t\t\t\t$('form.checkout #terms').prop('checked', true);\n\t\t\t}\n\t\t\tconsole.log( addressData );\n\n\t\t\t// Billing fields.\n\t\t\t$('#billing_first_name').val(addressData.billingAddress.FirstName);\n\t\t\t$('#billing_last_name').val(addressData.billingAddress.LastName);\n\t\t\t$('#billing_company').val(addressData.billingAddress.CompanyName);\n\t\t\t$('#billing_address_1').val(addressData.billingAddress.Street);\n\t\t\t$('#billing_address_2').val(addressData.billingAddress.Street2);\n\t\t\t$('#billing_city').val(addressData.billingAddress.City);\n\t\t\t$('#billing_postcode').val(addressData.billingAddress.PostalCode);\n\t\t\t$('#billing_phone').val(addressData.customer.MobileNumber);\n\t\t\t$('#billing_email').val(addressData.customer.Email);\n\n\t\t\t// Shipping fields.\n\t\t\t$('#ship-to-different-address-checkbox').prop( 'checked', true);\n\t\t\t$('#shipping_first_name').val(addressData.shippingAddress.FirstName);\n\t\t\t$('#shipping_last_name').val(addressData.shippingAddress.LastName);\n\t\t\t$('#shipping_company').val(addressData.shippingAddress.CompanyName);\n\t\t\t$('#shipping_address_1').val(addressData.shippingAddress.Street);\n\t\t\t$('#shipping_address_2').val(addressData.shippingAddress.Street2);\n\t\t\t$('#shipping_city').val(addressData.shippingAddress.City);\n\t\t\t$('#shipping_postcode').val(addressData.shippingAddress.PostalCode);\n\t\t\t// todo country\n\n\t\t\t// Only set country fields if we have data in them.\n\t\t\tif (addressData.billingAddress) {\n\t\t\t\t$('#billing_country').val(addressData.billingAddress.CountryCode);\n\t\t\t}\n\t\t\tif (addressData.shippingAddress) {\n\t\t\t\t$('#shipping_country').val(addressData.shippingAddress.CountryCode);\n\t\t\t}\n\n\t\t\tqliroOneForWooCommerce.submitOrder(callback);\n\n\t\t},\n\t\tupdateShipping: function( e ) {\n\t\t\tconsole.log('444', e);\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tnonce: qliroOneParams.update_order_nonce,\n\t\t\t\t},\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: qliroOneParams.update_order_url,\n\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t// console.log(data);\n\t\t\t\t},\n\t\t\t\terror: function (data) {\n\t\t\t\t\t// console.log(data);\n\t\t\t\t},\n\t\t\t\tcomplete: function (data) {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Submit the order using the WooCommerce AJAX function.\n\t\t */\n\t\tsubmitOrder: function (callback) {\n\t\t\t$('.woocommerce-checkout-review-order-table').block({\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: qliroOneParams.submitOrder,\n\t\t\t\tdata: $('form.checkout').serialize(),\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: function (data) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ('success' === data.result) {\n\t\t\t\t\t\t\tcallback({shouldProceed: true, errorMessage: \"n/a\"});\n\t\t\t\t\t\t\tconsole.log('submit order success', data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback({shouldProceed: false, errorMessage: \"data.result was not success\"});\n\t\t\t\t\t\t\tconsole.log( data, 1111);\n\t\t\t\t\t\t\tthrow 'Result failed';\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.log('catch error');\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\tif (data.messages) {\n\t\t\t\t\t\t\tconsole.log('error ', data.messages);\n\t\t\t\t\t\t\tcallback({shouldProceed: false, errorMessage: \"err message \" + data.messages});\n\t\t\t\t\t\t\t// qliroOneForWooCommerce.logToFile( 'Checkout error | ' + data.messages );\n\t\t\t\t\t\t\t// qliroOneForWooCommerce.failOrder( 'submission', data.messages );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback({shouldProceed: false, errorMessage: \"err no message\"});\n\t\t\t\t\t\t\t// qliroOneForWooCommerce.logToFile( 'Checkout error | No message' );\n\t\t\t\t\t\t\t// qliroOneForWooCommerce.failOrder( 'submission', '<div class=\"woocommerce-error\">' + 'Checkout error' + '</div>' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function (data) {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t};\n\tqliroOneForWooCommerce.init();\n});"],"names":["jQuery","$","qliroOneParams","isEnabled","qliroOneForWooCommerce","bodyEl","checkoutFormSelector","preventPaymentMethodChange","selectAnotherSelector","paymentMethodEl","init","document","ready","documentReady","on","maybeChangeToQliroOne","changeFromQliroOne","window","q1Ready","q1","onCustomerInfoChanged","updateAddress","onValidateOrder","getQliroOneOrder","updateShipping","length","paymentMethod","filter","val","payForOrder","moveExtraCheckoutFields","e","preventDefault","block","message","overlayCSS","background","opacity","ajax","type","dataType","data","qliro_one","nonce","change_payment_method_nonce","url","change_payment_method_url","success","error","complete","location","href","responseJSON","redirect","this","remove","checkIfQliroOneSelected","appendTo","form","i","name","find","inArray","standardWooCheckoutFields","closest","customerInfo","console","log","billingEmail","email","billingPhone","mobileNumber","billingFirstName","address","firstName","billingLastName","lastName","billingStreet","street","billingPostalCode","postalCode","billingCity","city","trigger","callback","get_order_nonce","get_order_url","setAddressData","addressData","prop","billingAddress","FirstName","LastName","CompanyName","Street","Street2","City","PostalCode","customer","MobileNumber","Email","shippingAddress","CountryCode","submitOrder","update_order_nonce","update_order_url","reload","serialize","result","shouldProceed","errorMessage","err","messages"],"sourceRoot":""}