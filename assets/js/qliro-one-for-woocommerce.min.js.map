{"version":3,"file":"qliro-one-for-woocommerce.min.js","mappings":"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","sources":["webpack://qliro-for-woocommerce/./assets/js/qliro-one-for-woocommerce.js"],"sourcesContent":["/**\n * @var qliroOneParams\n */\njQuery(function ($) {\n\tif (typeof qliroOneParams === 'undefined' || qliroOneParams.isEnabled !== 'yes') {\n\t\treturn false;\n\t}\n\tvar qliroOneForWooCommerce = {\n\t\tbodyEl: $('body'),\n\t\tcheckoutFormSelector: 'form.checkout',\n\t\tpreventPaymentMethodChange: false,\n\t\tselectAnotherSelector: '#qliro-one-select-other',\n\t\tpaymentMethodEl: $('input[name=\"payment_method\"]'),\n\n\t\tinit: function () {\n\t\t\t$(document).ready(qliroOneForWooCommerce.documentReady);\n\t\t\tqliroOneForWooCommerce.bodyEl.on('change', 'input[name=\"payment_method\"]', qliroOneForWooCommerce.maybeChangeToQliroOne);\n\t\t\tqliroOneForWooCommerce.bodyEl.on('click', qliroOneForWooCommerce.selectAnotherSelector, qliroOneForWooCommerce.changeFromQliroOne);\n\t\t\tqliroOneForWooCommerce.bodyEl.on('updated_checkout', qliroOneForWooCommerce.maybeDisplayShippingPrice);\n\t\t\tqliroOneForWooCommerce.renderIframe();\n\n\t\t\t$('#qliro_billing_country').on('change', () => {\n\t\t\t\tconst country = $('#qliro_billing_country').val();\n\t\t\t\t$('#billing_country, #shipping_country').val(country);\n\t\t\t\t$('body').trigger('update_checkout');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Triggers on document ready.\n\t\t */\n\t\tdocumentReady: function () {\n\t\t\tif (0 < $('input[name=\"payment_method\"]').length) {\n\t\t\t\tqliroOneForWooCommerce.paymentMethod = $('input[name=\"payment_method\"]').filter(':checked').val();\n\t\t\t} else {\n\t\t\t\tqliroOneForWooCommerce.paymentMethod = 'qliro_one';\n\t\t\t}\n\n\t\t\tif (!qliroOneParams.payForOrder && qliroOneForWooCommerce.paymentMethod === 'qliro_one') {\n\t\t\t\tqliroOneForWooCommerce.moveExtraCheckoutFields();\n\t\t\t}\n\t\t\tqliroOneForWooCommerce.bodyEl.on('update_checkout', qliroOneForWooCommerce.updateCheckout);\n\t\t\tqliroOneForWooCommerce.bodyEl.on('updated_checkout', qliroOneForWooCommerce.updatedCheckout);\n\n\t\t\t// This refers to the billing country field that we manually inject in the template class.\n\t\t\t$('#billing_country').on('change', () => $('body').trigger('update_checkout'));\n\n\t\t},\n\t\trenderIframe: function () {\n\t\t\twindow.q1Ready = function (q1) {\n\t\t\t\tq1.onCustomerInfoChanged(qliroOneForWooCommerce.updateAddress);\n\t\t\t\tq1.onValidateOrder(qliroOneForWooCommerce.placeWooOrder);\n\t\t\t\tq1.onShippingMethodChanged(qliroOneForWooCommerce.shippingMethodChanged);\n\t\t\t}\n\t\t\t$('#qliro-one-iframe').append(qliroOneParams.iframeSnippet);\n\t\t},\n\t\tupdateCheckout: function () {\n\t\t\tif (window.q1 !== undefined) {\n\t\t\t\twindow.q1.lock();\n\t\t\t}\n\t\t},\n\t\tupdatedCheckout: function () {\n\t\t\tif (window.q1 !== undefined) {\n\t\t\t\twindow.q1.onOrderUpdated(function (order) {\n\t\t\t\t\twindow.q1.unlock();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tshippingMethodChanged: function (shipping) {\n\t\t\t$('#qoc_shipping_data').val(JSON.stringify(shipping));\n\t\t\t$('body').trigger('qoc_shipping_option_changed', [shipping]);\n\t\t\t$('body').trigger('update_checkout');\n\t\t},\n\t\t/**\n\t\t * When the customer changes from Qliro to other payment methods.\n\t\t * @param {Event} e\n\t\t */\n\t\tchangeFromQliroOne: function (e) {\n\t\t\te.preventDefault();\n\t\t\t$(qliroOneForWooCommerce.checkoutFormSelector).block({\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: {\n\t\t\t\t\tqliro_one: false,\n\t\t\t\t\tnonce: qliroOneParams.change_payment_method_nonce\n\t\t\t\t},\n\t\t\t\turl: qliroOneParams.change_payment_method_url,\n\t\t\t\tsuccess: function (data) { },\n\t\t\t\terror: function (data) { },\n\t\t\t\tcomplete: function (data) {\n\t\t\t\t\twindow.location.href = data.responseJSON.data.redirect;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * When the customer changes to Qliro from other payment methods.\n\t\t */\n\t\tmaybeChangeToQliroOne: function () {\n\t\t\tif (!qliroOneForWooCommerce.preventPaymentMethodChange) {\n\t\t\t\tif ('qliro_one' === $(this).val()) {\n\t\t\t\t\t$('.woocommerce-info').remove();\n\t\t\t\t\t$(qliroOneForWooCommerce.checkoutFormSelector).block({\n\t\t\t\t\t\tmessage: null,\n\t\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\topacity: 0.6\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tqliro_one: true,\n\t\t\t\t\t\t\tnonce: qliroOneParams.change_payment_method_nonce\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\turl: qliroOneParams.change_payment_method_url,\n\t\t\t\t\t\tsuccess: function (data) { },\n\t\t\t\t\t\terror: function (data) { },\n\t\t\t\t\t\tcomplete: function (data) {\n\t\t\t\t\t\t\twindow.location.href = data.responseJSON.data.redirect;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Display Shipping Price in order review if Display shipping methods in iframe settings is active.\n\t\t */\n\t\tmaybeDisplayShippingPrice: function () {\n\t\t\t// Check if we already have set the price. If we have, return.\n\t\t\tif ($('.qoc-shipping').length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ('qliro_one' === qliroOneForWooCommerce.paymentMethod && 'no' !== qliroOneParams.shipping_in_iframe) {\n\t\t\t\tif ($('#shipping_method input[type=\\'radio\\']').length) {\n\t\t\t\t\t// Multiple shipping options available.\n\t\t\t\t\t$('#shipping_method input[type=\\'radio\\']:checked').each(function () {\n\t\t\t\t\t\tvar idVal = $(this).attr('id');\n\t\t\t\t\t\tvar shippingPrice = $('label[for=\\'' + idVal + '\\']').text();\n\t\t\t\t\t\t$('.woocommerce-shipping-totals td').html(shippingPrice);\n\t\t\t\t\t\t$('.woocommerce-shipping-totals td').addClass('qoc-shipping');\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// Only one shipping option available.\n\t\t\t\t\tvar idVal = $('#shipping_method input[name=\\'shipping_method[0]\\']').attr('id');\n\t\t\t\t\tvar shippingPrice = $('label[for=\\'' + idVal + '\\']').text();\n\t\t\t\t\t$('.woocommerce-shipping-totals td').html(shippingPrice);\n\t\t\t\t\t$('.woocommerce-shipping-totals td').addClass('qoc-shipping');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Check if Qliro is the selected gateway.\n\t\t */\n\t\tcheckIfQliroOneSelected: function () {\n\t\t\tif (qliroOneForWooCommerce.paymentMethodEl.length > 0) {\n\t\t\t\tqliroOneForWooCommerce.paymentMethod = qliroOneForWooCommerce.paymentMethodEl.filter(':checked').val();\n\t\t\t\tif ('qliro_one' === qliroOneForWooCommerce.paymentMethod) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Moves all non standard fields to the extra checkout fields.\n\t\t */\n\t\tmoveExtraCheckoutFields: function () {\n\t\t\t// Move order comments.\n\t\t\t$('.woocommerce-additional-fields').appendTo('#qliro-one-extra-checkout-fields');\n\n\t\t\tlet form = $('form[name=\"checkout\"] input, form[name=\"checkout\"] select, textarea');\n\t\t\tfor (var i = 0; i < form.length; i++) {\n\t\t\t\tlet name = form[i].name;\n\n\t\t\t\t// Skip this field as it is managed through our plugin settings or shortcode.\n\t\t\t\tif (\"qliro_billing_country\" === name) { \n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\t// Check if field is inside the order review.\n\t\t\t\tif ($('table.woocommerce-checkout-review-order-table').find(form[i]).length) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Check if this is a standard field.\n\t\t\t\tif (-1 === $.inArray(name, qliroOneParams.standardWooCheckoutFields)) {\n\t\t\t\t\t// This is not a standard Woo field, move to our div.\n\t\t\t\t\tif (0 < $('p#' + name + '_field').length) {\n\t\t\t\t\t\t$('p#' + name + '_field').appendTo('#qliro-one-extra-checkout-fields');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('input[name=\"' + name + '\"]').closest('p').appendTo('#qliro-one-extra-checkout-fields');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdateAddress: async (customerInfo) => {\n\t\t\t// The \"ship to different address\" checkbox should always be checked.\n\t\t\t$('#ship-to-different-address-checkbox').prop('checked', true);\n\t\t\t$('.woocommerce-shipping-fields .shipping_address').show();\n\n\t\t\t// Since the postal code is not always included in the frontend, we need to fetch the address from the backend.\n\t\t\tlet billingAddress, shippingAddress, customer\n\t\t\ttry {\n\t\t\t\tconst response = await $.ajax({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tnonce: qliroOneParams.get_order_nonce,\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\turl: qliroOneParams.get_order_url,\n\t\t\t\t});\n\n\t\t\t\tif (!response.success) {\n\t\t\t\t\tthrow 'Failed to GET address';\n\t\t\t\t}\n\n\t\t\t\tconst { data } = response;\n\t\t\t\tbillingAddress = data.billingAddress;\n\t\t\t\tshippingAddress = data.shippingAddress;\n\t\t\t\tcustomer = data.customer;\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.warning(error);\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\n\t\t\tconst firstName = billingAddress?.FirstName ?? customerInfo?.address?.firstName;\n\t\t\tconst lastName = billingAddress?.LastName ?? customerInfo?.address?.lastName;\n\t\t\tconst street = billingAddress?.Street ?? customerInfo?.address?.street;\n\t\t\tconst postalCode = billingAddress?.PostalCode ?? customerInfo?.address?.postalCode;\n\t\t\tconst city = billingAddress?.City ?? customerInfo?.address?.city;\n\t\t\tconst area = billingAddress?.Area ?? customerInfo?.address?.area;\n\t\t\tconst phone = customer?.MobileNumber ?? customerInfo?.mobileNumber;\n\t\t\tconst email = customer?.Email ?? customerInfo?.email;\n\n\t\t\tqliroOneForWooCommerce.setCustomerType(customerInfo);\n\n\t\t\t(email == null) ? null : $('#billing_email').val(email);\n\t\t\t(phone == null) ? null : $('#billing_phone').val(phone);\n\t\t\t(firstName == null) ? null : $('#billing_first_name').val(firstName);\n\t\t\t(lastName == null) ? null : $('#billing_last_name').val(lastName);\n\t\t\t(street == null) ? null : $('#billing_address_1').val(street);\n\t\t\t(postalCode == null) ? null : $('#billing_postcode').val(postalCode);\n\t\t\t(city == null) ? null : $('#billing_city').val(city);\n\t\t\t(area == null) ? null : qliroOneForWooCommerce.setStateField('billing', area);\n\n\t\t\t$('#billing_email').change();\n\t\t\t$('#billing_email').blur();\n\n\t\t\tconst shippingFirstName = shippingAddress?.FirstName ?? customerInfo?.address?.firstName;\n\t\t\tconst shippingLastName = shippingAddress?.LastName ?? customerInfo?.address?.lastName;\n\t\t\tconst shippingStreet = shippingAddress?.Street ?? customerInfo?.address?.street;\n\t\t\tconst shippingPostalCode = shippingAddress?.PostalCode ?? customerInfo?.address?.postalCode;\n\t\t\tconst shippingCity = shippingAddress?.City ?? customerInfo?.address?.city;\n\t\t\tconst shippingArea = shippingAddress?.Area ?? customerInfo?.address?.area;\n\n\t\t\t(email == null) ? null : $('#shipping_email').val(email);\n\t\t\t(phone == null) ? null : $('#shipping_phone').val(phone);\n\t\t\t(shippingFirstName == null) ? null : $('#shipping_first_name').val(shippingFirstName);\n\t\t\t(shippingLastName == null) ? null : $('#shipping_last_name').val(shippingLastName);\n\t\t\t(shippingStreet == null) ? null : $('#shipping_address_1').val(shippingStreet);\n\t\t\t(shippingPostalCode == null) ? null : $('#shipping_postcode').val(shippingPostalCode);\n\t\t\t(shippingCity == null) ? null : $('#shipping_city').val(shippingCity);\n\t\t\t(shippingArea == null) ? null : qliroOneForWooCommerce.setStateField(\"shipping\", shippingArea);\n\t\t\t$('body').trigger('qliro_customer_data_fetched', [{\n\t\t\t\tcustomer,\n\t\t\t\tbillingAddress,\n\t\t\t\tshippingAddress\n\t\t\t}]);\n\n\t\t\t$('body').trigger('update_checkout');\n\t\t\t$('#shipping_email').change();\n\t\t\t$('#shipping_email').blur();\n\t\t},\n\n\t\t/*\n\t\t * Sets the customer type in the cookie.\n\t\t */\n\t\tsetCustomerType: function (customerInfo) {\n\t\t\tif (customerInfo.organizationNumber) {\n\t\t\t\t// Business customer.\n\t\t\t\tCookies.set(qliroOneParams.customerTypeCookieName, 'business');\n\t\t\t} else {\n\t\t\t\t// Consumer customer.\n\t\t\t\tCookies.set(qliroOneParams.customerTypeCookieName, 'consumer');\n\t\t\t}\n\t\t},\n\n\t\tgetQliroOneOrder: function (data, callback) {\n\t\t\tqliroOneForWooCommerce.logToFile('onValidateOrder from Qliro triggered');\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tnonce: qliroOneParams.get_order_nonce,\n\t\t\t\t},\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: qliroOneParams.get_order_url,\n\t\t\t\tsuccess: function (data) {\n\t\t\t\t},\n\t\t\t\terror: function (data) {\n\t\t\t\t},\n\t\t\t\tcomplete: function (data) {\n\t\t\t\t\t// If the response was not successful, we should fail the order.\n\t\t\t\t\tif (data.responseJSON.success !== true) {\n\t\t\t\t\t\tqliroOneForWooCommerce.failOrder('getQliroOneOrder', data.responseJSON.data, callback);\n\n\t\t\t\t\t\t// If we have a redirect url, we should redirect the user to that url.\n\t\t\t\t\t\tif(data.responseJSON.data.redirect) {\n\t\t\t\t\t\t\twindow.location.href = data.responseJSON.data.redirect;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tqliroOneForWooCommerce.setAddressData(data.responseJSON.data, callback);\n\t\t\t\t\tconsole.log('getQliroOneOrder completed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Sets the WooCommerce form field data.\n\t\t */\n\t\tsetAddressData: function (addressData, callback) {\n\t\t\t// The \"ship to different address\" checkbox should always be checked.\n\t\t\t$('#ship-to-different-address-checkbox').prop('checked', true);\n\t\t\t$('.woocommerce-shipping-fields .shipping_address').show();\n\n\t\t\tif (0 < $('form.checkout #terms').length) {\n\t\t\t\t$('form.checkout #terms').prop('checked', true);\n\t\t\t}\n\t\t\tconsole.log(addressData);\n\n\t\t\t// Billing fields.\n\t\t\t$('#billing_first_name').val(addressData.billingAddress.FirstName);\n\t\t\t$('#billing_last_name').val(addressData.billingAddress.LastName);\n\t\t\t$('#billing_company').val(addressData.billingAddress.CompanyName);\n\t\t\t$('#billing_address_1').val(addressData.billingAddress.Street);\n\t\t\t$('#billing_address_2').val(\n\t\t\t\taddressData.billingAddress.CareOf\n\t\t\t\t\t? addressData.billingAddress.CareOf + (addressData.billingAddress.Street2 ? ' ' + addressData.billingAddress.Street2 : '')\n\t\t\t\t\t: addressData.billingAddress.Street2\n\t\t\t);\n\t\t\t$('#billing_city').val(addressData.billingAddress.City);\n\t\t\t$('#billing_postcode').val(addressData.billingAddress.PostalCode);\n\t\t\tqliroOneForWooCommerce.setStateField('billing', addressData.billingAddress.Area);\n\t\t\t$('#billing_phone').val(addressData.customer.MobileNumber);\n\t\t\t$('#billing_email').val(addressData.customer.Email);\n\n\t\t\t// Shipping fields.\n\t\t\t$('#shipping_first_name').val(addressData.shippingAddress.FirstName);\n\t\t\t$('#shipping_last_name').val(addressData.shippingAddress.LastName);\n\t\t\t$('#shipping_company').val(addressData.shippingAddress.CompanyName);\n\t\t\t$('#shipping_address_1').val(addressData.shippingAddress.Street);\n\t\t\t$('#shipping_address_2').val(\n\t\t\t\taddressData.shippingAddress.CareOf\n\t\t\t\t\t? addressData.shippingAddress.CareOf + (addressData.shippingAddress.Street2 ? ' ' + addressData.shippingAddress.Street2 : '')\n\t\t\t\t\t: addressData.shippingAddress.Street2\n\t\t\t);\n\t\t\t$('#shipping_city').val(addressData.shippingAddress.City);\n\t\t\t$('#shipping_postcode').val(addressData.shippingAddress.PostalCode);\n\t\t\tqliroOneForWooCommerce.setStateField('shipping', addressData.shippingAddress.Area);\n\t\t\t// todo country\n\n\t\t\t// Only set country fields if we have data in them.\n\t\t\tif (addressData.billingAddress) {\n\t\t\t\t$('#billing_country').val(addressData.billingAddress.CountryCode);\n\t\t\t}\n\t\t\tif (addressData.shippingAddress) {\n\t\t\t\t$('#shipping_country').val(addressData.shippingAddress.CountryCode);\n\t\t\t}\n\n\t\t\tqliroOneForWooCommerce.submitOrder(callback);\n\t\t},\n\n\t\t/**\n\t\t *\n\t\t * @param {\"billing\" | \"shipping\"} type The type of field to set.\n\t\t * @param {string | null | undefined} area The value to set the field to.\n\t\t *\n\t\t * @returns\n\t\t */\n\t\tsetStateField: function (type, area) {\n\t\t\t// Ignore if area is null or undefined.\n\t\t\tif (area === null || area === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the field.\n\t\t\tconst $field = $(`#${type}_state`);\n\n\t\t\t// If the field does not exist, return.\n\t\t\tif ($field.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If its a select field, we need to select the correct option where the option label is the same as the area.\n\t\t\tif ($field.is(\"select\")) {\n\t\t\t\t$field.find(\"option\").each(function () {\n\t\t\t\t\tif ($(this).text() === area) {\n\t\t\t\t\t\t$field.val($(this).val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If its an input field, we just need to set the value.\n\t\t\t$field.val(area);\n\t\t},\n\n\t\t/**\n\t\t * Submit the order using the WooCommerce AJAX function.\n\t\t */\n\t\tsubmitOrder: function (callback) {\n\t\t\t$('.woocommerce-checkout-review-order-table').block({\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: qliroOneParams.submitOrder,\n\t\t\t\tdata: $('form.checkout').serialize() + '&' + $('#billing_country').serialize(),\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: function (data) {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ('success' === data.result) {\n\t\t\t\t\t\t\tconsole.log('submit order success', data);\n\t\t\t\t\t\t\tqliroOneForWooCommerce.logToFile('Successfully placed order. Sending \"shouldProceed: true\" to Qliro.');\n\t\t\t\t\t\t\tcallback({ shouldProceed: true, errorMessage: \"\" });\n\n\t\t\t\t\t\t\t// Remove the timeout.\n\t\t\t\t\t\t\tclearTimeout(qliroOneForWooCommerce.timeout);\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('submit order - missing success', data);\n\t\t\t\t\t\t\tthrow 'Result failed';\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.log('catch error');\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\tif (data.messages) {\n\t\t\t\t\t\t\t// Strip HTML code from messages.\n\t\t\t\t\t\t\tlet messages = data.messages.replace(/<\\/?[^>]+(>|$)/g, \"\");\n\t\t\t\t\t\t\tconsole.log('error ', messages);\n\t\t\t\t\t\t\tqliroOneForWooCommerce.logToFile('Checkout error | ' + messages);\n\t\t\t\t\t\t\tqliroOneForWooCommerce.failOrder('submission', messages, callback);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tqliroOneForWooCommerce.logToFile('Checkout error | No message');\n\t\t\t\t\t\t\tqliroOneForWooCommerce.failOrder('submission', 'Checkout error', callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function (data) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tqliroOneForWooCommerce.logToFile('AJAX error | ' + JSON.stringify(data));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tqliroOneForWooCommerce.logToFile('AJAX error | Failed to parse error message.');\n\t\t\t\t\t}\n\t\t\t\t\tqliroOneForWooCommerce.failOrder('ajax-error', 'Internal Server Error', callback)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tfailOrder: function (event, error_message, callback) {\n\n\t\t\t// Remove the timeout.\n\t\t\tclearTimeout(qliroOneForWooCommerce.timeout);\n\n\t\t\tcallback({ shouldProceed: false, errorMessage: error_message });\n\n\t\t\t// Re-enable the form.\n\t\t\tvar className = 'form.checkout';\n\t\t\t$(qliroOneForWooCommerce.checkoutFormSelector).removeClass('processing');\n\t\t\t$(qliroOneForWooCommerce.checkoutFormSelector).unblock();\n\t\t\t$('.woocommerce-checkout-review-order-table').unblock();\n\t\t\t$('body').trigger('update_checkout');\n\t\t},\n\n\t\tplaceWooOrder: function (data, callback) {\n\t\t\tqliroOneForWooCommerce.timeout = setTimeout(() => {\n\t\t\t\tqliroOneForWooCommerce.logToFile('Timeout error | Timeout when placing the WooCommerce order');\n\t\t\t\tqliroOneForWooCommerce.failOrder('timeout-error', 'Timeout error', callback);\n\t\t\t}, 29000); // 29 seconds.\n\n\t\t\tqliroOneForWooCommerce.getQliroOneOrder(data, callback);\n\n\t\t},\n\t\t/**\n\t\t * Logs the message to the Qliro checkout log in WooCommerce.\n\t\t * @param {string} message\n\t\t */\n\t\tlogToFile: function (message) {\n\t\t\t$.ajax(\n\t\t\t\t{\n\t\t\t\t\turl: qliroOneParams.log_to_file_url,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tnonce: qliroOneParams.log_to_file_nonce\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t};\n\tqliroOneForWooCommerce.init();\n});\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","jQuery","$","qliroOneParams","isEnabled","_updateAddress","qliroOneForWooCommerce","bodyEl","checkoutFormSelector","preventPaymentMethodChange","selectAnotherSelector","paymentMethodEl","init","document","ready","documentReady","on","maybeChangeToQliroOne","changeFromQliroOne","maybeDisplayShippingPrice","renderIframe","country","val","trigger","paymentMethod","filter","payForOrder","moveExtraCheckoutFields","updateCheckout","updatedCheckout","window","q1Ready","q1","onCustomerInfoChanged","updateAddress","onValidateOrder","placeWooOrder","onShippingMethodChanged","shippingMethodChanged","append","iframeSnippet","undefined","lock","onOrderUpdated","order","unlock","shipping","JSON","stringify","preventDefault","block","message","overlayCSS","background","opacity","ajax","type","dataType","data","qliro_one","nonce","change_payment_method_nonce","url","change_payment_method_url","success","error","complete","location","href","responseJSON","redirect","this","remove","shipping_in_iframe","each","idVal","attr","shippingPrice","text","html","addClass","checkIfQliroOneSelected","appendTo","form","name","find","inArray","standardWooCheckoutFields","closest","_callee","customerInfo","_billingAddress$First","_billingAddress","_customerInfo$address","_billingAddress$LastN","_billingAddress2","_customerInfo$address2","_billingAddress$Stree","_billingAddress3","_customerInfo$address3","_billingAddress$Posta","_billingAddress4","_customerInfo$address4","_billingAddress$City","_billingAddress5","_customerInfo$address5","_billingAddress$Area","_billingAddress6","_customerInfo$address6","_customer$MobileNumbe","_customer","_customer$Email","_customer2","_shippingAddress$Firs","_shippingAddress","_customerInfo$address7","_shippingAddress$Last","_shippingAddress2","_customerInfo$address8","_shippingAddress$Stre","_shippingAddress3","_customerInfo$address9","_shippingAddress$Post","_shippingAddress4","_customerInfo$address0","_shippingAddress$City","_shippingAddress5","_customerInfo$address1","_shippingAddress$Area","_shippingAddress6","_customerInfo$address10","billingAddress","shippingAddress","customer","response","firstName","lastName","street","postalCode","city","area","phone","email","shippingFirstName","shippingLastName","shippingStreet","shippingPostalCode","shippingCity","shippingArea","_t","_context","prop","show","get_order_nonce","get_order_url","console","warning","reload","FirstName","address","LastName","Street","PostalCode","City","Area","MobileNumber","mobileNumber","Email","setCustomerType","setStateField","change","blur","arguments","apply","_next","_throw","_x","organizationNumber","Cookies","set","customerTypeCookieName","getQliroOneOrder","callback","logToFile","failOrder","setAddressData","log","addressData","CompanyName","CareOf","Street2","CountryCode","submitOrder","$field","concat","is","serialize","result","shouldProceed","errorMessage","clearTimeout","timeout","err","messages","replace","event","error_message","removeClass","unblock","setTimeout","log_to_file_url","log_to_file_nonce"],"ignoreList":[],"sourceRoot":""}